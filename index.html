<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Guia Tur√≠stico</title>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">

<style>
/* ====================================== */
/* PALETA DARK E BASE */
/* ====================================== */
:root {
  --bg:#0d1117;
  --card:#161b22;
  --primary:#1f6feb;
  --text:#e6edf3;
  --muted:#9aa0a6;
  --radius:14px;
  --shadow:0 8px 28px rgba(0,0,0,.35);
}

body {
  margin:0;
  padding:0;
  background:var(--bg);
  font-family:Inter, sans-serif;
  color:var(--text);
}

/* ====================================== */
/* BANNER PRINCIPAL */
/* ====================================== */
.banner {
  width:100%;
  height:180px;
  overflow:hidden;
  position:relative;
}

.banner img {
  width:100%;
  height:100%;
  object-fit:cover;
  position:absolute;
  top:0; left:0;
  opacity:0;
  transition:opacity 1s ease;
}
.banner img.active { opacity:1; }

/* ====================================== */
/* HEADER + BUSCA */
/* ====================================== */
header {
  padding:15px;
  text-align:center;
  background:var(--card);
  box-shadow:var(--shadow);
}

#busca {
  width:94%;
  padding:10px;
  margin-top:10px;
  background:#21262d;
  border:1px solid #30363d;
  border-radius:var(--radius);
  color:white;
  font-size:15px;
}

/* ====================================== */
/* LISTA DE CARDS ‚Äì 2 POR LINHA */
/* ====================================== */
#lista {
  padding:12px;
  display:grid;
  grid-template-columns:repeat(2, 1fr);
  gap:12px;
}

/* CARD */
.card {
  background:var(--card);
  border-radius:var(--radius);
  padding:10px;
  box-shadow:var(--shadow);
  animation:fadeUp .6s ease;
}

@keyframes fadeUp {
  from {opacity:0; transform:translateY(15px);}
  to   {opacity:1; transform:translateY(0);}
}

/* IMAGEM */
.card img {
  width:100%;
  height:120px;
  object-fit:cover;
  border-radius:var(--radius);
  cursor:pointer;
}

/* T√çTULO */
.card h3 {
  font-size:15px;
  margin:6px 0 4px;
}

/* DESCRI√á√ÉO */
.card p {
  font-size:12px;
  color:var(--muted);
  margin:0 0 6px;
}

/* HASHTAGS */
.tags span {
  background:#1f2937;
  padding:3px 8px;
  border-radius:10px;
  font-size:10px;
  margin-right:4px;
  color:#cbd5e1;
}

/* ====================================== */
/* BOT√ïES MENORES E LINDOS */
/* ====================================== */
.btns {
  margin-top:8px;
  display:flex;
  flex-direction:column;
  gap:6px;
}

.btn {
  background:var(--primary);
  padding:7px 5px;
  text-align:center;
  border-radius:12px;
  color:white;
  font-size:12px;
  text-decoration:none;
  display:flex;
  justify-content:center;
  align-items:center;
  gap:6px;
}

.btn:hover { opacity:0.85; }

/* ====================================== */
/* VIEWER DE IMAGEM/VIDEO */
/* ====================================== */
#viewer {
  position:fixed;
  top:0; left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,.95);
  display:none;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  z-index:999;
}

#viewer img, #viewer video {
  max-width:90%;
  max-height:80%;
  border-radius:var(--radius);
}

#voltar {
  margin-top:18px;
  padding:10px 22px;
  background:var(--primary);
  border-radius:var(--radius);
  color:white;
  font-size:15px;
}
</style>

</head>
<body>

<!-- ================================== -->
<!-- BANNER -->
<!-- ================================== -->
<div class="banner" id="banner"></div>

<!-- ================================== -->
<!-- HEADER -->
<!-- ================================== -->
<header>
  <h2>üåé Guia Tur√≠stico</h2>
  <input id="busca" placeholder="Buscar por lugar ou #hashtag..." oninput="filtrar()">
</header>

<!-- LISTA -->
<div id="lista"></div>

<!-- VIEWER -->
<div id="viewer">
  <div id="mediaArea"></div>
  <button id="voltar" onclick="fecharViewer()">Voltar</button>
</div>

<script>
const API = "SUA_URL_DO_GAS_AQUI";
let todos = [];

/* ====================================== */
/* BANNERS */
/* ====================================== */
const banners = [
  "https://images.unsplash.com/photo-1526778548025-fa2f459cd5c1",
  "https://images.unsplash.com/photo-1505765050516-f72dcac9c60e",
  "https://images.unsplash.com/photo-1549880338-65ddcdfd017b",
  "https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e",
  "https://images.unsplash.com/photo-1519817650390-64a93db511aa"
];

function carregarBanners(){
  const b = document.getElementById("banner");
  banners.forEach((u,i)=>{
    const img=document.createElement("img");
    img.src=u;
    if(i===0) img.classList.add("active");
    b.appendChild(img);
  });

  let idx=0;
  setInterval(()=>{
    const imgs=document.querySelectorAll(".banner img");
    imgs[idx].classList.remove("active");
    idx=(idx+1)%imgs.length;
    imgs[idx].classList.add("active");
  },3000);
}
carregarBanners();

/* ====================================== */
/* CARREGAR DADOS DO GAS */
/* ====================================== */
async function carregar(){
  const r = await fetch(API);
  const data = await r.json();
  todos = data.lugares;
  render();
}
carregar();

/* ====================================== */
/* RENDER */
/* ====================================== */
function render(){
  const lista = document.getElementById("lista");
  lista.innerHTML = "";

  todos.forEach(l =>{
    const tags = (l.hashtags||"").split(",").map(t=>t.trim()).filter(t=>t);

    lista.innerHTML += `
      <div class="card">
        <img src="${l.foto}" onclick="abrirViewer('${l.foto}','img')">

        <h3>${l.nome}</h3>
        <p>${l.descricao}</p>

        <div class="tags">
          ${tags.map(t=>`<span>#${t}</span>`).join("")}
        </div>

        <div class="btns">
          <a class="btn" href="${l.mapa}" target="_blank">üìç Ver Local</a>
          <a class="btn" href="${l.site}" target="_blank">üåê Visitar</a>
          <a class="btn" href="${l.reserva}" target="_blank">üìÖ Reservar</a>
          <a class="btn" href="https://wa.me/${l.whatsapp}" target="_blank">üí¨ WhatsApp</a>
        </div>
      </div>
    `;
  });
}

/* ====================================== */
/* FILTRO */
/* ====================================== */
function filtrar(){
  const txt = document.getElementById("busca").value.toLowerCase();

  const f = todos.filter(l =>
    l.nome.toLowerCase().includes(txt) ||
    l.descricao.toLowerCase().includes(txt) ||
    (l.hashtags||"").toLowerCase().includes(txt.replace("#",""))
  );

  const lista = document.getElementById("lista");
  lista.innerHTML = "";

  f.forEach(l =>{
    const tags = (l.hashtags||"").split(",").map(t=>t.trim()).filter(t=>t);

    lista.innerHTML += `
      <div class="card">
        <img src="${l.foto}" onclick="abrirViewer('${l.foto}','img')">

        <h3>${l.nome}</h3>
        <p>${l.descricao}</p>

        <div class="tags">
          ${tags.map(t=>`<span>#${t}</span>`).join("")}
        </div>

        <div class="btns">
          <a class="btn" href="${l.mapa}" target="_blank">üìç Ver Local</a>
          <a class="btn" href="${l.site}" target="_blank">üåê Visitar</a>
          <a class="btn" href="${l.reserva}" target="_blank">üìÖ Reservar</a>
          <a class="btn" href="https://wa.me/${l.whatsapp}" target="_blank">üí¨ WhatsApp</a>
        </div>
      </div>
    `;
  });
}

/* ====================================== */
/* VIEWER */
/* ====================================== */
function abrirViewer(src,tipo){
  const area=document.getElementById("mediaArea");
  area.innerHTML = tipo==="img"
    ? `<img src="${src}">`
    : `<video controls src="${src}"></video>`;
  document.getElementById("viewer").style.display="flex";
}

function fecharViewer(){
  document.getElementById("viewer").style.display="none";
}
</script>

</body>
</html>
